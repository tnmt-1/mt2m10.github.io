{"pageProps":{"blog":{"id":"2021-09-24_aws-ivs","title":"Amazon IVS でライブストリーミング配信","publishedAt":"2021-09-24","body":"<p><code>Amazon Interactive Video Service (Amazon IVS) </code> を利用するとあっという間にOBSからライブストリーミング配信ができます。</p>\n<h3 id=\"ivs-チャネルの作成\">IVS チャネルの作成</h3>\n<ol>\n<li><a href=\"https://us-west-2.console.aws.amazon.com/ivs/home\">https://us-west-2.console.aws.amazon.com/ivs/home</a> に移動して<code>チャネルの作成</code>をします。</li>\n<li>チャネル名を入力して、<code>チャネルの作成</code>ボタンを押して作成します。<br>\n<img src=\"https://i.gyazo.com/f95b07acb0fca3385f03fb1c764ce765.png\" alt=\"\"><br>\n基本はデフォルトのままで良いと思いますが、配信動画を保存したい場合は、<code>ストリームの記録と保存</code>で<code>S3 への自動記録</code>を選択しましょう。</li>\n<li><code>ストリーム設定</code>と<code>再生設定</code>を確認しておきましょう。<br>\n<img src=\"https://i.gyazo.com/7ae4b00303e963858145ecc2302acc1d.png\" alt=\"\"></li>\n</ol>\n<h3 id=\"ライブストリーミングの開始\">ライブストリーミングの開始</h3>\n<p>今回はOBSを使ってライブストリーミングをします。</p>\n<p>OBSの設定画面から設定していきます。</p>\n<ol>\n<li>配信設定</li>\n</ol>\n<ul>\n<li>サービス: カスタム</li>\n<li>サーバ: ストリーム設定の取り込みサーバー</li>\n<li>ストリームキー: ストリーム設定のストリームキー<br>\n<img src=\"https://i.gyazo.com/c5528c07f0352df80714177bbf076a39.png\" alt=\"\"></li>\n</ul>\n<ol>\n<li>映像設定</li>\n</ol>\n<ul>\n<li>基本解像度: 1280x720</li>\n<li>出力解像度: 852x480</li>\n<li>縮小フィルタ: バイキュービック (先鋭化スケーリング、16のサンプル)</li>\n<li>FPS共通知: 30<br>\n<img src=\"https://i.gyazo.com/94895598f6f7b0abd5bed2406e8532c4.png\" alt=\"\"></li>\n</ul>\n<ol>\n<li>出力設定</li>\n</ol>\n<ul>\n<li>エンコーダ: x264</li>\n<li>レート制御: CBR</li>\n<li>ビットレート: 2000（または、それ以下）</li>\n<li>キーフレーム間隔: 2</li>\n<li>CPU使用のプリセット: veryfast</li>\n<li>チューン: ゼロレイテンシー<br>\n<img src=\"https://i.gyazo.com/9cee6ac1e9e5fe400491f1468920cb3c.png\" alt=\"\"></li>\n</ul>\n<p>設定値は適宜好きなように変更してもOKです。本設定は<a href=\"https://ivs-streaming.workshop.aws/jp/startstreaming.html\">ライブストリーミングの開始</a>の内容をそのまま流用しています。</p>\n<p>入力できたら、<code>OK</code>ボタン押します。</p>\n<p>OBSのメイン・ウィンドウの左下にある「ソース」セクションで配信したいやつを選択しましょう。<br>\n<code>配信開始</code>をクリックすると、ライブ配信が開始されます。<br>\n<img src=\"https://i.gyazo.com/eea1c3fb8f2d1b39cbadbb051f5f77e0.png\" alt=\"\"></p>\n<p>配信内容は<code>再生設定</code>の<code>再生URL</code>から視聴することができます。<br>\nVLCなどを使って見てみましょう。</p>\n<p><img src=\"https://i.gyazo.com/5c401d8c12001471569acfed358d6729.png\" alt=\"\"></p>\n<h3 id=\"参考\">参考</h3>\n<ul>\n<li><a href=\"https://ivs-streaming.workshop.aws/jp/getting-started.html\">はじめに :: Amazon Interactive Video Service Workshop</a></li>\n</ul>"}},"__N_SSG":true}