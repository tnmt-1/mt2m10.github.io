<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="mt2m10 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="mt2m10 Atom Feed"><title data-rh="true">mt2m10 blog! | mt2m10</title><meta data-rh="true" property="og:url" content="https://mt2m10.github.io/page/4"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" property="og:title" content="mt2m10 blog! | mt2m10"><meta data-rh="true" name="description" content="mt2m10 powered blog!"><meta data-rh="true" property="og:description" content="mt2m10 powered blog!"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mt2m10.github.io/page/4"><link data-rh="true" rel="alternate" href="https://mt2m10.github.io/page/4" hreflang="en"><link data-rh="true" rel="alternate" href="https://mt2m10.github.io/page/4" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c5d084a0.css">
<link rel="preload" href="/assets/js/runtime~main.4c7a20c1.js" as="script">
<link rel="preload" href="/assets/js/main.abd4fb57.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/beer.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/beer.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">mt2m10</b></a><a class="navbar__item navbar__link" href="/docs/about">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/07/24/_1">Wi-Fi環境を「メッシュWi-Fi」にして、おまけで「v6プラス」にも対応してみた</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/07/18/_1">プロフィールページ作成</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/07/01/1">縁のなかった岐阜県に引っ越した</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/06/05/1">AWS Certified Cloud Practitioner に合格</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/19/1">イベントとアクションの違い</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/15/1">godologの導入</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/14/_1">メモを残す最良ツールを探し続けてる</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/02/_1">SurfaceのUSB-Cが認識しなかったときの対処法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/05/01/_1">AWSクラウドプラクティショナーのメモ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/21/_1">最新docker-composeをインストールするコマンド</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/12/_1">日記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/10/_1">PHPで数値判定をするときは&quot;e&quot;に気をつけよう</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/09/_1">日記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/04/06/_1">NordVPNで接続できないサイトがあったので設定を変えてみた</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/03/21/_1">日記</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/02/13/_Project-management-taught-by-foreign-consultants">『外資系コンサルが教えるプロジェクトマネジメント』</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/29/_User-centered-theory-Manufacturing-that-moves-the-heart-starting-from-you">『ユーザー中心論〜あなたからはじめる心を動かすモノづくり〜』</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/18/_firefox-bookmarks-backup">Firefox終了時にBookmarkをエクスポート</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/16/_The-curse-of-self-affirmation">『自己肯定感という呪縛』</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/15/_aftershokz-opencomm">AfterShokzのOPENCOMMを購入</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/08/_aws-ses-for-php">AWS SDK for PHP を使ってメール送信</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2022/01/04/_hatena-blog-card">はてなブログカードを使ってカード型のリンクを貼る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/13/_create-lambda-layer">Amazon Lambda Layer の作成</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/12/08/_firefox-userChrome">Firefoxからタブを非表示にする</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/10/24/_comparison-of-smartphone-communication-charges">サブブランドやMVNOの通信料金比較</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/10/19/_retrun-binary-data-in-aws-api-gateway">Amazon API Gatewayでバイナリデータを返す</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/10/14/_linux-unit">Linuxでユニットファイルを作って自動起動させる</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/10/04/_mahjong">PeerCast民と麻雀</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/09/29/_mecab-install">CentOSにMeCabをインストールする</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/09/24/_aws-ivs">Amazon IVS でライブストリーミング配信</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/09/19/_darkmode">Dark Mode Switch でダークモード対応</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/09/15/_build-webserver">Amazon Linux 2 + Apache + Codeigniter4 でのWebサーバ構築</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2021/04/26/_node-install">anyenvからnodenvをインストールする</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2020/11/19/_1">Codeigniter 4 メモ</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/11/25/_1">【PHP】前月・翌月の末日を求めるときは慎重に</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/11/20/_1">【PHP】composerの使い方</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/11/10/_1">Bronze Oracle Database 12cSQL基礎に合格しました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/11/07/_1">【PHP】空配列を`=== []`で判定する</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/10/26/_1">Bronze Oracle Database DBA 12c合格しました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/10/10/_1">vagrant + gitbookで共有フォルダ内でbuildしたらno such file or directoryが出て困る</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/28/_1">SDKMANを使ってkotlinをインストール</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/27/_1">サクラエディタからShibaを起動する</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/22/_1">LinuxLiteでGoogleドライブを使う！</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/21/_1">LinuxLiteにPeerCast</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/16/_1">LPIC Level1 Ver5.0に合格しました</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/09/06/_1">Tumblrでシンタックスハイライト</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/08/04/_1">NifmoからOCNモバイルONEへ乗り換え</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/23/_1">KGI・KPI・CSFめも</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/22/_1">オブジェクト型とは何か調べてみた</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/08/_1">MarkdownエディタはTypora</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/04/_1">文章が苦手</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/02/_2">カイゼン・ジャーニー第1部感想</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/2019/07/02/_1">デバイスをマウントする</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/09/19/_darkmode">Dark Mode Switch でダークモード対応</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-18T20:42:00.000Z" itemprop="datePublished">September 18, 2021</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><p><a href="https://github.com/coliff/dark-mode-switch" target="_blank" rel="noopener noreferrer">Dark Mode Switch</a> というJavaScriptのライブラリを使って本サイトのダークモード対応をしました。
<code>README.md</code> に書いてある通りに実装するだけで簡単にできます。</p><p><code>README.md</code> の内容丸パクリですが、実装の仕方を残しておきます。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="必須条件">必須条件<a class="hash-link" href="#必須条件" title="Direct link to heading">​</a></h3><ul><li>Bootstrap 4.x or 5.x</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使い方">使い方<a class="hash-link" href="#使い方" title="Direct link to heading">​</a></h3><ol><li>ダークモードトグル用のカスタムスイッチを追加し、続いて <code>dark-mode-switch.min.js</code> スクリプトを追加します。
Bootstrap 4.x<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">custom-control custom-switch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">checkbox</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">custom-control-input</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">darkSwitch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">label</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">custom-control-label</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">for</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">darkSwitch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Dark Mode</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">label</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">dark-mode-switch.min.js</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>Bootstrap 5.x<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">form-check form-switch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">input</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">checkbox</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">form-check-input</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">darkSwitch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">label</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">custom-control-label</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">for</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">darkSwitch</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Dark Mode</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">label</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">dark-mode-switch.min.js</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">script</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><code>dark-mode.css</code> をサイトに合わせて編集します。</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dark-modecss-の編集"><code>dark-mode.css</code> の編集<a class="hash-link" href="#dark-modecss-の編集" title="Direct link to heading">​</a></h3><p>ダークモードをオンにすると、bodyタグに <code>data-theme=&quot;dark&quot;</code> が追加されます。CSSを使ってページ内の要素を対象にすると、次のようになります。</p><div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token selector attribute punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token selector attribute attr-name" style="color:rgb(241, 250, 140)">data-theme</span><span class="token selector attribute operator" style="color:rgb(255, 121, 198)">=</span><span class="token selector attribute attr-value" style="color:rgb(255, 121, 198)">&quot;dark&quot;</span><span class="token selector attribute punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">background-color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token hexcode color">#111</span><span class="token plain"> </span><span class="token important">!important</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">color</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token hexcode color">#eee</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/library">library</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/css">css</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/09/15/_build-webserver">Amazon Linux 2 + Apache + Codeigniter4 でのWebサーバ構築</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-09-15T01:00:00.000Z" itemprop="datePublished">September 15, 2021</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><p>Amazon Linux 2 インスタンスに Apache HTTP Server と PHP8 をインストールしてWebサーバを構築します。
Codeigniter4のソースコードを利用したかったので、それ用に少しアレンジしています。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="環境">環境<a class="hash-link" href="#環境" title="Direct link to heading">​</a></h3><ul><li>Amazon Linux 2 (EC2)</li><li>PHP 8.0.8</li><li>Apache HTTP Server 2.4</li><li>Codeigniter 4</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="手順">手順<a class="hash-link" href="#手順" title="Direct link to heading">​</a></h3><ol><li><p>PHP 8 とApache HTTP Server をインストール</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo amazon-linux-extras enable php8.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo yum install -y httpd php php-devel php-mysqlnd php-mbstring php-gd php-xml php-opcache php-pecl-zip php-pear php-intl mod_ssl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Apache HTTP Server を有効化 + 起動</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo systemctl enable httpd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo systemctl start httpd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>ファイルの許可設定
ec2-user を apache グループに追加し、apache ディレクトリの所有権を /var/www グループに付与し、グループへの書き込み権限を割り当てます。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo usermod -a -G apache ec2-user</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>再ログインして、グループが適用されているか確認する。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ groups</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>/var/www</code> 配下のグループと所有権を変更する。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo chown -R ec2-user:apache /var/www</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo chmod 2775 /var/www &amp;&amp; find /var/www -type d -exec $ sudo chmod 2775 {} \;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ find /var/www -type f -exec sudo chmod 0664 {} \;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>(オプション) Composer のインストール
個人的に Composer を使いたかったのでインストールしています。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo su -</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php -r &quot;copy(&#x27;https://getcomposer.org/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php -r &quot;if (hash_file(&#x27;sha384&#x27;, &#x27;composer-setup.php&#x27;) === &#x27;756890a4488ce9024fc62c56153228907f1545c228516cbf63f885e036d37e9a59d27d63f46af1d4d07ee0f76181c7d3&#x27;) { echo &#x27;Installer verified&#x27;; } else { echo &#x27;Installer corrupt&#x27;; unlink(&#x27;composer-setup.php&#x27;); } echo PHP_EOL;&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php composer-setup.php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php -r &quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># mv composer.phar /usr/local/bin/composer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># chmod 777 /usr/local/bin/composer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>SSL/TLS の設定
自己署名のデジタル証明書を使用して、Amazon Linux 2 で TLS をセットアップしてきます。</p><p>サーバーホスト用の自己署名 X.509 証明書とプライベートキーを生成するためのスクリプトを利用してセットアップします。
作成された <code>localhost.crt</code> には証明書とキーの両方が含まれています。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># cd /etc/pki/tls/certs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># ./make-dummy-cert localhost.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>/etc/httpd/conf.d/ssl.conf </code> を編集します。</p><ul><li><code>DocumentRoot &quot;/var/www/html/public&quot;</code> を追加</li><li><code>SSLCertificateKeyFile /etc/pki/tls/private/localhost.key</code> をコメントアウト</li></ul><p><code>/etc/httpd/conf.d/vhost.conf</code> を新規追加します（<code>vhost.conf</code> というファイル名でなくてもOK）。</p><div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;Directory &quot;/var/www/html&quot;&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    AllowOverride All</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/Directory&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;VirtualHost *:80&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    DocumentRoot &quot;/var/www/html/public&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;/VirtualHost&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>完了したら <code>Apache HTTP Server</code> を再起動します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># systemctl restart httpd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># exit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Codeigniter プロジェクトを作成</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cd /var/www/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ composer create-project codeigniter4/appstarter html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a class="hash-link" href="#参考" title="Direct link to heading">​</a></h3><ul><li><a href="https://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/ec2-lamp-amazon-linux-2.html" target="_blank" rel="noopener noreferrer">チュートリアル: Amazon Linux 2 に LAMP ウェブサーバーをインストールする</a></li><li><a href="https://docs.aws.amazon.com/ja_jp/AWSEC2/latest/UserGuide/SSL-on-amazon-linux-2.html" target="_blank" rel="noopener noreferrer">チュートリアル: Amazon Linux 2 に SSL/TLS を設定する</a></li><li><a href="https://e-kamo.net/amazon-linux-extras-php8-available" target="_blank" rel="noopener noreferrer">Amazon Linux 2 の Extras Library に PHP8.0 登場</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/aws">aws</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/apache">apache</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/codeigniter-4">codeigniter4</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2021/04/26/_node-install">anyenvからnodenvをインストールする</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-04-25T15:00:00.000Z" itemprop="datePublished">April 25, 2021</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>anyenv を使ってバージョン管理ツールを導入する。
brew コマンドを使って様々なバージョン管理ツールをインストールできるが、anyenv で入れておいたほうが後々楽だと思うので。
React を入門するために nodenv をインストールしてみる。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="環境">環境<a class="hash-link" href="#環境" title="Direct link to heading">​</a></h3><ul><li>macOS Big Sur 11.23</li><li>Mac mini (M1, 2020)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="手順">手順<a class="hash-link" href="#手順" title="Direct link to heading">​</a></h3><div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># anyenv をインストール</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% brew install anyenv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% echo &#x27;eval &quot;$(anyenv init -)&quot;&#x27; &gt;&gt; ~/.zshrc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 先に {exec $SHELL -l} を実行したらエラーになったので事前に初期化する</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% anyenv install --init</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% exec $SHELL -l</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># nodenv をインストール</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% anyenv install nodenv</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># yarn が必要な場合は plugins ディレクトリにこのリポジトリを clone する</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% mkdir -p &quot;$(nodenv root)/plugins&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% git clone https://github.com/pine/nodenv-yarn-install.git &quot;$(nodenv root)/ plugins/nodenv-yarn-install&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># インストール （今回は v16.0.0 をインストール）</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># インストールできるバージョンを確認</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% nodenv install -l</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% nodenv install 16.0.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">% nodenv global 16.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/brew">brew</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/node">node</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/npm">npm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/yarn">yarn</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2020/11/19/_1">Codeigniter 4 メモ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2020-11-19T14:10:39.000Z" itemprop="datePublished">November 19, 2020</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cli">CLI<a class="hash-link" href="#cli" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="マイグレーションファイル作成">マイグレーションファイル作成<a class="hash-link" href="#マイグレーションファイル作成" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php spark migrate:create {table name}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="シードファイル作成">シードファイル作成<a class="hash-link" href="#シードファイル作成" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php spark make:seeder {table name}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="シード投入">シード投入<a class="hash-link" href="#シード投入" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># php spark db:seed {seed file name}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="書き方">書き方<a class="hash-link" href="#書き方" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="マイグレーションファイル">マイグレーションファイル<a class="hash-link" href="#マイグレーションファイル" title="Direct link to heading">​</a></h3><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Database\Migrations;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use CodeIgniter\Database\Migration;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class Cars extends Migration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function up()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;forge-&gt;addField([</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;id&#x27;     =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;CHAR&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;constraint&#x27;     =&gt; 32,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;type&#x27;   =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;TEXT&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;price&#x27;  =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;INT&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;constraint&#x27;     =&gt; 32,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;color&#x27;  =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;TEXT&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;remark&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;TEXT&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;null&#x27;           =&gt; true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;status&#x27; =&gt; [</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;type&#x27;           =&gt; &#x27;ENUM&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;constraint&#x27;     =&gt; [&#x27;onsale&#x27;, &#x27;sold&#x27;],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    &#x27;default&#x27;        =&gt; &#x27;onsale&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            // 配列だとdatetime型でdefault設定ができないので以下書き方となる</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;created_at datetime default current_timestamp&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &#x27;updated_at datetime default current_timestamp on update current_timestamp&#x27;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ]);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;forge-&gt;addKey(&#x27;id&#x27;, true); // PL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;forge-&gt;createTable(&#x27;cars&#x27;);  // created</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //--------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function down()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $this-&gt;forge-&gt;dropTable(&#x27;cars&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/11/25/_1">【PHP】前月・翌月の末日を求めるときは慎重に</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-11-25T10:48:53.000Z" itemprop="datePublished">November 25, 2019</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><p>前月・翌月を求めるとき起算日や計算方法によっては、正確に求められないことがあります。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="確認環境">確認環境<a class="hash-link" href="#確認環境" title="Direct link to heading">​</a></h2><ul><li>PHP 7.3</li></ul><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 10月31日の前月の末日を取得したい</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo date(&#x27;Y-m-d&#x27;, strtotime(&#x27;2019-10-31 -1 month&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 想定：2019-09-30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 実際：2019-10-01</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 10月31日の翌月の末日を取得したい</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo date(&#x27;Y-m-d&#x27;, strtotime(&#x27;2019-10-31 +1 month&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 想定：2019-11-30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 実際：2019-12-01</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 🤔🤔🤔</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>多分こんなからくり。</p><ul><li>2019-10-31の一月前 =&gt; 2019-09-31 =&gt; 9月に31日はないので繰り上げて2019-10-01。</li><li>2019-10-31の一月後 =&gt; 2019-11-31 =&gt; 11月に31日はないので繰り上げて2019-12-01。</li></ul><p>正確に求めたい場合は以下の指定をしましょう。</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=====================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 前月</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=====================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 一番スマート</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo date(&#x27;Y-m-d&#x27;, strtotime(&#x27;2019-10-31 last day of previous month&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 2019-09-30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 当月の初日を取得したあとに、1日マイナスする</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$firstDayOfThisMonth = date(&#x27;Y-m-d&#x27;, strtotime(&#x27;2019-10-31 first day of this month&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo date(&#x27;Y-m-d&#x27;, strtotime($firstDayOfThisMonth . &#x27;-1 day&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 2019-09-30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=====================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 翌月</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=====================</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// スマート</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo date(&#x27;Y-m-d&#x27;, strtotime(&#x27;2019-10-31 last day of next month&#x27;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// 2019-11-30</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/11/20/_1">【PHP】composerの使い方</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-11-20T12:32:51.000Z" itemprop="datePublished">November 20, 2019</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>composerはPHPのライブラリ管理ツールです。以前から存在は知っていたけど、ちゃんと使ったことがありませんでした。</p><p>最近、素のPHPを書く機会があり、ライブラリを使わないとかなりキツイことがあったので、調べたことをメモしておきます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="環境">環境<a class="hash-link" href="#環境" title="Direct link to heading">​</a></h2><ul><li>vagrant</li><li>VirtualBox</li><li>CentOS7</li><li>PHP 5.6</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="composerのインストール">composerのインストール<a class="hash-link" href="#composerのインストール" title="Direct link to heading">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">### セットアップ用PHPスクリプトをダウンロード</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php -r </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;copy(&#x27;https://getcomposer.org/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### セットアップ実行</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php composer-setup.php</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### スクリプトを削除</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ php -r </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### どこでも使えるように/usr/local/binに移動</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> composer.phar /usr/local/bin/composer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### 動作確認</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> -v</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   ______</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  / ____/___  ____ ___  ____  ____  ________  _____</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> / /   / __ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">/ __ `__ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">/ __ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">/ __ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">/ ___/ _ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">/ ___/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/ /___/ /_/ / / / / / / /_/ / /_/ </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">__  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">  __/ /</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">____/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">____/_/ /_/ /_/ .___/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">____/____/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">___/_/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    /_/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ライブラリのインストール">ライブラリのインストール<a class="hash-link" href="#ライブラリのインストール" title="Direct link to heading">​</a></h2><p>試しに、<code>Guzzle</code>をインストールします。</p><blockquote><p>Guzzleとは、PHPのHTTPクライアントで、HTTPリクエストを簡単に実現することができるライブラリです。</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="その１">その１<a class="hash-link" href="#その１" title="Direct link to heading">​</a></h3><p><code>require</code>コマンドでインストールする。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> require guzzlehttp/guzzle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using version ^6.4 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> guzzlehttp/guzzle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./composer.json has been created</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Loading </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> repositories with package information</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Updating dependencies </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">including require-dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Package operations: </span><span class="token number">5</span><span class="token plain"> installs, </span><span class="token number">0</span><span class="token plain"> updates, </span><span class="token number">0</span><span class="token plain"> removals</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing ralouphie/getallheaders </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3.0</span><span class="token plain">.3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing psr/http-message </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/psr7 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.6</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/promises </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v1.3.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/guzzle </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">6.4</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">guzzlehttp/psr7 suggests installing zendframework/zend-httphandlerrunner </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Emit PSR-7 responses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">guzzlehttp/guzzle suggests installing psr/log </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Required </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> using the Log middleware</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Writing lock </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating autoload files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="その2">その2<a class="hash-link" href="#その2" title="Direct link to heading">​</a></h3><p><code>composer init</code>を利用してインストールする。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">### initで対話形式で、composer.jsonを作成します</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">### この辺の細かいことは分からないので割愛</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> init</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Welcome to the Composer config generator</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">This </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"> will guide you through creating your composer.json config.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Package name </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">&lt;</span><span class="token plain">vendor</span><span class="token operator">&gt;</span><span class="token plain">/</span><span class="token operator">&lt;</span><span class="token plain">name</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">masashi/hoge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Description </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Author </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">masashi </span><span class="token operator">&lt;</span><span class="token plain">masashi626</span><span class="token operator file-descriptor important">9</span><span class="token operator">&gt;</span><span class="token plain">, n to skip</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">: n</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Minimum Stability </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Package Type </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">e.g. library, project, metapackage, composer-plugin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">License </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Define your dependencies.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Would you like to define your dependencies </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">require</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> interactively </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">yes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">? </span><span class="token function" style="color:rgb(80, 250, 123)">yes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Search </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> a package: guzzlehttp/guzzle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Enter the version constraint to require </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">or leave blank to use the latest version</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using version ^6.4 </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> guzzlehttp/guzzle</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Search </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> a package:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Would you like to define your dev dependencies </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">require-dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> interactively </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">yes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Search </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> a package:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;name&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;masashi/hoge&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;require&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;guzzlehttp/guzzle&quot;</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;^6.4&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Do you confirm generation </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">yes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain">?</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>Search for a package:</code> のとこで<code>guzzlehttp/guzzle</code>を入力すると、<code>composer.json</code>の<code>require</code>に追加してくれます。</p><p>これで準備完了。最後に<code>composer install</code>を実行してインストールします。</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Loading </span><span class="token function" style="color:rgb(80, 250, 123)">composer</span><span class="token plain"> repositories with package information</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Updating dependencies </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">including require-dev</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Package operations: </span><span class="token number">5</span><span class="token plain"> installs, </span><span class="token number">0</span><span class="token plain"> updates, </span><span class="token number">0</span><span class="token plain"> removals</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing ralouphie/getallheaders </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3.0</span><span class="token plain">.3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing psr/http-message </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/psr7 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.6</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/promises </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v1.3.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Installing guzzlehttp/guzzle </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">6.4</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">: Loading from cache</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">guzzlehttp/psr7 suggests installing zendframework/zend-httphandlerrunner </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Emit PSR-7 responses</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">guzzlehttp/guzzle suggests installing psr/log </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Required </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> using the Log middleware</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Writing lock </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Generating autoload files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ライブラリの利用">ライブラリの利用<a class="hash-link" href="#ライブラリの利用" title="Direct link to heading">​</a></h2><p>オートローダーを読み込んだあとに、普通に使うだけ。</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;?php // autoloadを読み込むと、ライブラリを個別にrequire,includeしなくても使えます</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">require dirname(__FILE__). &#x27;/vendor/autoload.php&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$client = new \GuzzleHttp\Client();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$response = $client-&gt;request(&#x27;GET&#x27;, &#x27;https://api.github.com/repos/guzzle/guzzle&#x27;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $response-&gt;getStatusCode() . PHP_EOL; # 200</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo $response-&gt;getHeaderLine(&#x27;content-type&#x27;) . PHP_EOL; # &#x27;application/json; charset=utf8&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo print_r(json_decode($response-&gt;getBody()), true); # &#x27;{&quot;id&quot;: 1420053, &quot;name&quot;: &quot;guzzle&quot;, ...}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>これだけでだいぶ楽になりました！</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/11/10/_1">Bronze Oracle Database 12cSQL基礎に合格しました</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-11-10T03:12:46.000Z" itemprop="datePublished">November 10, 2019</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結論">結論<a class="hash-link" href="#結論" title="Direct link to heading">​</a></h2><p>問題を解きまくってなれるしかない。暗記だけで合格するのは難しい。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="利用した参考書サイト">利用した参考書・サイト<a class="hash-link" href="#利用した参考書サイト" title="Direct link to heading">​</a></h2><ul><li><a href="https://www.amazon.co.jp/dp/4844336762" target="_blank" rel="noopener noreferrer">徹底攻略 ORACLE MASTER Bronze 12c SQL基礎問題集[1Z0-061]対応</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="学習法">学習法<a class="hash-link" href="#学習法" title="Direct link to heading">​</a></h2><ol><li>参考書を2回解く</li></ol><p>仕事でSQLを書く機会をある程度経験しているので、あまり時間を書けず学習しました。けっこう考える問題が多いので、1問あたりにかける時間は多め。</p><p>full outer joinは意味分からん。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結果">結果<a class="hash-link" href="#結果" title="Direct link to heading">​</a></h2><p>正解率：78% 合格ライン：65%</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="感想">感想<a class="hash-link" href="#感想" title="Direct link to heading">​</a></h2><p><code>12c SQL基礎(1Z0-061)</code>は難しいとの噂だったので、けっこうビクビクしながら受験しましたが、実務などで慣れている人であれば、この難しさは気にならないと思いました。絶対受かりたい人は<code>Bronze SQL基礎I(1Z0-017)</code>を受験しましょう。</p><p>絶対おさえたいポイントは</p><ul><li>SQL関数</li><li>結合</li><li>暗黙の型変換</li><li>fm修飾子</li><li>制約</li><li>SQL行制限</li></ul><p>です。この辺はよくでる印象があります。</p><p>また、1,2問初見の問題が出てびっくりしましたが、75問もあるので影響はありませんでした。もしかしたら、<code>ping-t</code>や別の参考書には載っていたかもですが、無視して良いレベルです。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/11/07/_1">【PHP】空配列を`=== []`で判定する</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-11-07T12:02:20.000Z" itemprop="datePublished">November 7, 2019</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><p>TwitterでPHPのempty関数を安易に使うのは良くない趣旨のツイートを見ました。普段からemptyを使っていて何の疑問も持たなかったので、へーって思ってツイートを眺めてました。</p><p>こんなチェックをするそうです。</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">if ($a === [])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>チェック内容が明確なので可読性がよいです。</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">if (empty($a))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>この場合、<code>$a</code>がarrayの空配列チェックなのか、stringの空文字チェックなのか1文だけでは分かりません。あと、NULLの場合の挙動が先述のコードとは異なるので、なんとなく危ないですね。</p><p>今度からもう少しこういうところに気をつかって書いていく良いきっかけとなりました。</p><p>※PHPマニュアルの<a href="https://www.php.net/manual/ja/types.comparisons.php" target="_blank" rel="noopener noreferrer">PHP 型の比較表</a>から確認できるように、emptyの挙動はけっこうトリッキー。気をつけましょう！</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/10/26/_1">Bronze Oracle Database DBA 12c合格しました</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-10-26T08:18:53.000Z" itemprop="datePublished">October 26, 2019</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><p>LPIC Level1 Ver5.0に合格してから2ヶ月ほど立ちましたが、次はOracle社が行っている認定試験制度<code>Bronze Oracle Database DBA 12c</code>を受け合格しました。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結論">結論<a class="hash-link" href="#結論" title="Direct link to heading">​</a></h2><p><code>オラクルマスター教科書 Bronze Oracle Database DBA 12c</code>は割と有効。</p><p>これに出題されている問題が数個出題されました。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="利用した参考書サイト">利用した参考書・サイト<a class="hash-link" href="#利用した参考書サイト" title="Direct link to heading">​</a></h2><ul><li><a href="https://www.amazon.co.jp/dp/B00UIWBD1A/" target="_blank" rel="noopener noreferrer">オラクルマスター教科書 Bronze Oracle Database DBA 12c</a></li><li><a href="https://ping-t.com/" target="_blank" rel="noopener noreferrer">Ping-t</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="学習法">学習法<a class="hash-link" href="#学習法" title="Direct link to heading">​</a></h2><ol><li><p><code>Ping-t</code>を解く</p></li><li><p><code>オラクルマスター教科書 Bronze Oracle Database DBA 12c</code>の解説編を読む</p></li><li><p><code>オラクルマスター教科書 Bronze Oracle Database DBA 12c</code>の練習問題を解く</p></li><li><p>2-3を繰り返す</p></li></ol><p>Ping-tのプレミアムコンテンツに<code>Oracle Master 12c Bronze DBA</code>の問題集があるので、ちょこちょこ解きました。あまり進捗が良くないまま期限が来てしまい不完全燃焼でした。</p><p>あまり理解度が良くないと思ったので、オラクルマスター教科書の練習問題の前に解説編を読み、雰囲気を頭に入れました。</p><p>あとはひたすら練習問題です。練習問題でなかなか理解しにくい部分があれば解説編と合わせてしっかり読み込みます。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="結果">結果<a class="hash-link" href="#結果" title="Direct link to heading">​</a></h2><p><strong>合格</strong></p><p>正解率：84%
合格ライン：70%</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="感想">感想<a class="hash-link" href="#感想" title="Direct link to heading">​</a></h2><p>冒頭にも書きましたが、<code>オラクルマスター教科書 Bronze Oracle Database DBA 12c</code>に出題されている問題が数個出題されました。練習問題を覚えるのは合格するための有効な手段だと思います。</p><p>出題問題に関しては</p><ul><li>Oracle データベースの基本構造</li><li>インスタンスの起動／停止とメモリコンポーネントの管理</li><li>ユーザーおよびセキュリティの管理</li><li>データベースの監視とアドバイザの使用</li><li>バックアップおよびリカバリの実行</li></ul><p>あたりが多く出題されていた印象です。この辺を集中的にやるといいかも。</p><p>次はSQL基礎をちゃちゃっと片付けてOracle Master Bronzeを取りたいと思います。</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2019/10/10/_1">vagrant + gitbookで共有フォルダ内でbuildしたらno such file or directoryが出て困る</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2019-10-10T06:51:43.000Z" itemprop="datePublished">October 10, 2019</time> · <!-- -->2 min read</div></header><div class="markdown" itemprop="articleBody"><p>最近、仕事でこそこそgitbookを使っています。vscodeでmarkdownを書きたいので共有フォルダを設定してホストOS側で編集したあと、ゲストOSでbuildしてます。</p><p>環境構築時、buildするとエラー（no such file or directory）になってしまいました。ファイルあるのに。。。
でも、gitbookのライブラリっぽいファイルを修正することで解決できたので備忘として残します。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[vagrant@localhost hoge]$ gitbook build</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: 8 plugins are installed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: 5 explicitly listed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: loading plugin &quot;search-pro-kui&quot;... OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: loading plugin &quot;highlight&quot;... OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: loading plugin &quot;sharing&quot;... OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: loading plugin &quot;fontsettings&quot;... OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: loading plugin &quot;theme-default&quot;... OK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: found 5 pages</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">info: found 22 asset files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Error: ENOENT: no such file or directory, stat &#x27;/vagrant/hoge/_book/gitbook/gitbook-plugin-fontsettings/fontsettings.js&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="環境">環境<a class="hash-link" href="#環境" title="Direct link to heading">​</a></h2><ul><li>Windows10（ホストOS）</li><li>centos7（ゲストOS）</li><li>vagrant 2.2.5</li><li>VirtualBox 6.0.12</li><li>GitBook 3.2.3</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vagrantfile">Vagrantfile<a class="hash-link" href="#vagrantfile" title="Direct link to heading">​</a></h2><div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # synced folder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  config.vm.synced_folder &quot;.&quot;, &quot;/vagrant&quot;, type: &quot;nfs&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="対応方法">対応方法<a class="hash-link" href="#対応方法" title="Direct link to heading">​</a></h2><p><code>copyPluginAssets.js</code>内のメソッドの戻り値を変更する。</p><ol><li><code>copyPluginAssets.js</code>を探す<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ </span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token plain"> / -name </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;copyPluginAssets.js&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>ファイルが見つかるはずなので、vi等で開く</li><li><code>copyAssets</code>メソッドを探す。（45行目あたり）</li><li>戻り値の<code>confirm</code>の値を<code>false</code>に変更。</li><li><code>copyResources</code>メソッドを探す。（78行目あたり）</li><li>戻り値の<code>confirm</code>の値を<code>false</code>に変更。</li><li>保存。</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考サイト">参考サイト<a class="hash-link" href="#参考サイト" title="Direct link to heading">​</a></h2><ul><li><a href="https://kuttsun.blogspot.com/2018/06/gitbook-no-such-file-or-directory.html" target="_blank" rel="noopener noreferrer">https://kuttsun.blogspot.com/2018/06/gitbook-no-such-file-or-directory.html</a></li></ul></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/page/3"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/page/5"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4c7a20c1.js"></script>
<script src="/assets/js/main.abd4fb57.js"></script>
</body>
</html>