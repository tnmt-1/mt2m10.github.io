---
title: Pythonの対話モードでエコーバックするときの対応方法
date: 2022-08-10T10:08:00+09:00
---

## 結論

WSL2でエコーバックが発生する場合は次のコマンドを実行しましょう。
```
pip install readline
```

---

Pythonを対話モードでさわりたいときに、`^[[C`とか`^[[D`って表示されませんか？
![23801991f43e012eb7cf2ad5f7945c58.png](https://i.gyazo.com/23801991f43e012eb7cf2ad5f7945c58.png)
エコーバックっていうらしいです。

Python公式からはGNU Readlineがサポートされていればエコーバックが発生しないとのこと。
> GNU Readline ライブラリをサポートしているシステム上では、対話的行編集やヒストリ置換、コード補完のインタプリタの行編集機能が利用できます。コマンドライン編集機能がサポートされているかを最も手っ取り早く調べる方法は、おそらく最初に表示された Python プロンプトに Control-P を入力してみることでしょう。ビープ音が鳴るなら、コマンドライン編集機能があります。編集キーについての解説は付録 対話入力編集と履歴置換 を参照してください。何も起こらないように見えるか、 ^P がエコーバックされるなら、コマンドライン編集機能は利用できません。この場合、現在編集中の行から文字を削除するにはバックスペースを使うしかありません。

[https://docs.python.org/ja/3.10/tutorial/interpreter.html](https://docs.python.org/ja/3.10/tutorial/interpreter.html)

WSL2ではGNU Readline ライブラリをインストールしてもエコーバックが発生されしまいました。
```
sudo apt-get install libreadline-dev
```

そんな場合は、pipからインストールすると解消されます。
```
pip install readline
```
