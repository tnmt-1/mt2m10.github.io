{"pageProps":{"blog":{"id":"2019-11-07_1","title":"【PHP】空配列を`=== []`で判定する","publishedAt":"2019-11-07","body":"<p>TwitterでPHPのempty関数を安易に使うのは良くない趣旨のツイートを見ました。普段からemptyを使っていて何の疑問も持たなかったので、へーって思ってツイートを眺めてました。</p>\n<p>こんなチェックをするそうです。</p>\n<pre><code class=\"language-php\">if ($a === [])\n</code></pre>\n<p>チェック内容が明確なので可読性がよいです。</p>\n<pre><code class=\"language-php\">if (empty($a))\n</code></pre>\n<p>この場合、<code>$a</code>がarrayの空配列チェックなのか、stringの空文字チェックなのか1文だけでは分かりません。あと、NULLの場合の挙動が先述のコードとは異なるので、なんとなく危ないですね。</p>\n<p>今度からもう少しこういうところに気をつかって書いていく良いきっかけとなりました。</p>\n<p>※PHPマニュアルの<a href=\"https://www.php.net/manual/ja/types.comparisons.php\">PHP 型の比較表</a>から確認できるように、emptyの挙動はけっこうトリッキー。気をつけましょう！</p>"}},"__N_SSG":true}